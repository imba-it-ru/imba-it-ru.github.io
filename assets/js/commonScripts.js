(()=>{"use strict";const e="fade-in_visible",t=new IntersectionObserver((function(t){t.forEach((t=>{t.isIntersecting&&function(t){t.target.classList.add(e),setTimeout(s.bind(this,t.target),1e3)}(t)}))}),{root:null,rootMargin:"-20px 0px",threshold:0});function s(s){t.unobserve(s),s.classList.remove("fade-in",e)}const n=(e,t)=>{t.classList.add("error"),t.classList.contains("error")&&t.closest("label").querySelector("span.error")?(t.closest("label").querySelector("span.error").remove(),t.closest("label").insertAdjacentHTML("beforeend",`<span class="error">${e}</span>`)):t.classList.contains("error")&&t.closest("label").insertAdjacentHTML("beforeend",`<span class="error">${e}</span>`)},r=e=>{e.classList.remove("error"),e.closest("label").querySelector("span.error")&&e.closest("label").querySelector("span.error").remove()},o=/([\w\s]*?[0-9][\w\s]*?){11,}/,a=/([-!#-'*+/-9=?A-Z^-~]+(\.[-!#-'*+/-9=?A-Z^-~]+)*|"([]!#-[^-~ \t]|(\\[\t -~]))+")@[0-9A-Za-z]([0-9A-Za-z-]{0,61}[0-9A-Za-z])?(\.[0-9A-Za-z]([0-9A-Za-z-]{0,61}[0-9A-Za-z])?)+/i;function l(e){e.value=e.value.trim(),e.classList.contains("js_input_name")&&""==e.value?n("Заполните, пожалуйста, поле",e):e.classList.contains("js_input_name")&&r(e),e.classList.contains("js_input_phone")&&""==e.value?n("Заполните, пожалуйста, поле",e):e.classList.contains("js_input_phone")&&-1!==e.value.search(o)?r(e):e.classList.contains("js_input_phone")&&n("Укажите, пожалуйста, корректный телефон",e),e.classList.contains("js_input_email")&&""==e.value?n("Заполните, пожалуйста, поле",e):e.classList.contains("js_input_email")&&-1!==e.value.search(a)?r(e):e.classList.contains("js_input_email")&&n("Укажите, пожалуйста, корректный e-mail",e),e.classList.contains("js_input_confirm")&&e.checked?r(e):e.classList.contains("js_input_confirm")&&n("Поставьте, пожалуйста, галочку",e)}try{document.querySelectorAll(".fade-in").forEach((e=>{t.observe(e)})),document.querySelectorAll('a[href^="#"]').forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault();let t=this.getAttribute("href").substring(1);const s=document.getElementById(t),n=document.querySelector(".header").offsetHeight,r=s.getBoundingClientRect().top-n;window.scrollBy({top:r,behavior:"smooth"}),closeMenu()}))})),document.querySelectorAll(".js_form").forEach((e=>{e.querySelector("button").addEventListener("click",(t=>{t.preventDefault();const s=e.querySelectorAll(".js_form_item"),n=e.querySelector(".js_form_btn");if(s.forEach((t=>{l(t),t.addEventListener("input",(()=>{l(t),e.querySelector(".error")||(n.disabled=!1)}))})),e.querySelector(".error"))console.log("no-validate"),n.disabled=!0;else{console.log("validate"),n.classList.add("btn-animate");let t=new FormData(e),s=new XMLHttpRequest;s.onreadystatechange=function(){4===s.readyState&&200===s.status&&(console.log("Отправлено"),window.location.href="/success.html",n.classList.remove("btn-animate"))},s.open("POST","mail.php",!0),s.send(t),e.reset()}}))}))}catch(e){}})();